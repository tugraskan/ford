<!-- -*- mode: jinja2 -*- -->

{% extends "base.html" %}
{% block title %}{{ interface.name }} &ndash; {{ project }}{% endblock title %}
{% block body %}
  {% import 'macros.html' as macros %}
  <div class="row">
    <h1>{{ interface.name }}
      <small>{% if interface.abstract -%}Abstract {% endif %}Interface</small>
      {{ macros.deprecated(interface) }}
    </h1>
    {% if interface.abstract %}
    {{
    macros.info_bar(interface, incl_src, project_url, interface.lines_description(project.absint_lines))
    }}
    {% else %}
    {{
    macros.info_bar(interface, incl_src, project_url, interface.lines_description(project.proc_lines,obj='proc'))
    }}
    {% endif %}
  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    {{ macros.sidebar(project,interface) }}
    </div>
    
    <div class="col-md-9" id='text'>
    {% set procedure = interface.procedure %}
    {% if interface.doc or interface.callsgraph or interface.calledbygraph %}
      <h2>{% if interface.abstract %}abstract {% endif %}interface</h2>
      {{ interface.doc }}
      <br>
    {% if interface.callsgraph %}
    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#calls-section" 
         aria-expanded="false" 
         aria-controls="calls-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Calls
        </h3>
      </a>
      <div id="calls-section" class="collapse">
        <div class="card-body">
          {{ interface.callsgraph }}
        </div>
      </div>
    </div>
     {% endif %}
     {% if interface.calledbygraph %}
    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#called-by-section" 
         aria-expanded="false" 
         aria-controls="called-by-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Called by
        </h3>
      </a>
      <div id="called-by-section" class="collapse">
        <div class="card-body">
          {{ interface.calledbygraph }}
        </div>
      </div>
    </div>
     {% endif %}
    {% if interface.calledbygraph or interface.callsgraph %}
    <br>
    {% endif %}
      <h2>{{ macros.proc_line(procedure,False) }}</h2>
    {% else %}
      <h2>{% if interface.abstract %}abstract {% endif %}interface <br>
      {{ macros.proc_line(procedure,False) }}</h2>    
    {% endif %}

    {{ macros.use_list(interface) }}

    <h3>Arguments</h3>
    {% if procedure.args %}
      {{ macros.variable_list(procedure.args, intent=True) }}
    {% else %}
      <em>None</em>
    {% endif %}
    {% if procedure.retvar %}
    {% set var = procedure.retvar %}
    {% set args = 0 %}
    {% if var.kind %}{% set args = args + 1 %}{% endif %}
    {% if var.strlen %}{% set args = args + 1 %}{% endif %}
    {% if var.proto %}{% set args = args + 1 %}{% endif %}
      <h3>Return Value <span class="anchor" id="{{ var.anchor }}"></span><small>{{ var.vartype }}{% if args > 0 -%}({% if var.kind -%}kind={{ var.kind }}{%- endif %}{% if args > 1 -%},{%- endif %}{% if var.strlen -%}len={{ var.strlen }}{%- endif %}{% if var.proto -%}{% if not var.proto[0].permission or var.proto[0].visible -%}{{ var.proto[0] }}{% else %}{{ var.proto[0].name }}{%- endif %}{{ var.proto[1] }}{%- endif %}){%- endif %}{% if var.attribs -%},{%- endif %}
  {% for attrib in var.attribs -%}{{ attrib }}{% if not loop.last or var.dimension -%}, {%- endif %}{%- endfor %}{{ var.dimension }}</small></h3>
    {{ var.doc }}
    {% endif %}
    {% if procedure.doc %}
    <h3>Description</h3>
    {{ procedure.doc }}
    {% endif %}
    <br>

 </div>
</div>

{% endblock body %}
