<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Documentation for Fortran Program">
    <meta name="author" content="" >
    <link rel="icon" href="../favicon.png">

    <title>aqu_1d_control &ndash; Fortran Program</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">Fortran Program </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../program/main.html">Program</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>aqu_1d_control
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 0.4% of total for proc.">276 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/aqu_1d_control.f90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/aqu_1d_control.f90.html'>aqu_1d_control.f90</a></li>
            <li class="breadcrumb-item active" aria-current="page">aqu_1d_control</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    // Enable Bootstrap tooltips
    (function () {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    })();
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

    <em>None</em>

  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2> subroutine aqu_1d_control()  
</h2>
        <div class="card mb-4">
      <h3 class="card-header card-title bg-light">Uses</h3>
      <div class="card-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <ul class="list-inline">
                  <li class="list-inline-item"><a href='../module/time_module.html'>time_module</a></li>
                  <li class="list-inline-item"><a href='../module/constituent_mass_module.html'>constituent_mass_module</a></li>
                  <li class="list-inline-item"><a href='../module/pesticide_data_module.html'>pesticide_data_module</a></li>
                  <li class="list-inline-item"><a href='../module/hydrograph_module.html'>hydrograph_module</a></li>
                  <li class="list-inline-item"><a href='../module/maximum_data_module.html'>maximum_data_module</a></li>
                  <li class="list-inline-item"><a href='../module/salt_module.html'>salt_module</a></li>
                  <li class="list-inline-item"><a href='../module/ch_pesticide_module.html'>ch_pesticide_module</a></li>
                  <li class="list-inline-item"><a href='../module/climate_module.html'>climate_module</a></li>
                  <li class="list-inline-item"><a href='../module/salt_aquifer.html'>salt_aquifer</a></li>
                  <li class="list-inline-item"><a href='../module/aquifer_module.html'>aquifer_module</a></li>
                  <li class="list-inline-item"><a href='../module/aqu_pesticide_module.html'>aqu_pesticide_module</a></li>
                  <li class="list-inline-item"><a href='../module/cs_aquifer.html'>cs_aquifer</a></li>
              </ul>
            </li>
        </ul>
      </div>
    </div>


    <p>lag recharge from bottom of soil to water table ** disabled</p>
<p>add recharge to aquifer storage
compute groundwater depth from surface
compute flow and subtract from storage
set hydrograph flow from aquifer- convert mm to m3
compute seepage through aquifer and subtract from storage
compute revap (deep root uptake from aquifer) and subtract from storage
compute nitrate recharge into the aquifer
compute nitrate return flow out of aquifer
(kg/ha / mm)
kg = (kg/ha / mm) * mm * ha
compute NO3 lost in the aquifer
compute nitrate seepage out of aquifer
kg/ha = (kg/ha / mm) * mm
compute mineral p flow (constant concentration) from aquifer - m^3 * ppm * 1000 kg/m^3 = 1/1000
temperature of aquifer flow
compute fraction of flow to each channel in the aquifer
if connected to aquifer - add flow
find the first channel contributing
set fractions for flow to each channel
save hydrographs to distribute on following day
compute pesticide transport and decay
set initial pesticide at start of day
add incoming pesticide to storage
compute pesticide decay in the aquifer
add decay to daughter pesticides
compute pesticide in aquifer flow
assume specific yield = upper limit (effective vs total porosity) 
and bulk density of 2.0 (ave of rock and soil - 2.65 and 1.35)
mm = (mm/mm + (m^3/ton)*(ton/m^3)) * m * 1000.
compute volume of flow through the layer - mm
compute concentration in the flow
return flow (1) and deep seepage (2)  kg = kg/mm * mm
set pesticide output variables - kg
assume frsol = 1 (all soluble)
all soluble - may add later
compute outflow objects (flow to channels, reservoirs, or aquifer)
if flow from hru is directly routed
sum outflow to channels, reservoirs and other aquifers
total ingoing and outgoing (retuen flow + percolation) for output to SWIFT</p>


    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#arguments-section" 
         aria-expanded="true" 
         aria-controls="arguments-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Arguments
        </h3>
      </a>
      <div id="arguments-section" class="collapse show">
        <div class="card-body">
            <em>None</em>
        </div>
      </div>
    </div>


    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#local-variables-section" 
         aria-expanded="false" 
         aria-controls="local-variables-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Local Variables
        </h3>
      </a>
      <div id="local-variables-section" class="collapse">
        <div class="card-body">
            <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="var-iaq"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iaq</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-iaqdb"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iaqdb</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-icha"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>icha</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-iob_out"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iob_out</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-iout"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iout</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ii"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ii</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-icontrib"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>icontrib</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ipest"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ipest</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ipest_db"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ipest_db</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ipseq"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ipseq</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ipdb"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ipdb</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-imeta"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>imeta</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-mol_wt_rto"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>mol_wt_rto</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-stor_init"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>stor_init</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-conc_no3"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>conc_no3</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-step"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>step</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-contrib_len"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>contrib_len</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-contrib_len_left"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>contrib_len_left</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-pest_init"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>pest_init</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-no3_init"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>no3_init</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-flow_mm"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>flow_mm</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-pest_kg"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>pest_kg</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-conc"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>conc</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-zdb1"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>zdb1</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-kd"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>kd</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-gw_volume"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>gw_volume</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-salt_recharge"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>salt_recharge</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-gw_discharge"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>gw_discharge</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-salt_discharge"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>salt_discharge</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-gw_seep"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>gw_seep</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-salt_seep"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>salt_seep</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-cs_recharge"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>cs_recharge</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-cs_discharge"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>cs_discharge</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-cs_seep"></span>
              real,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>cs_seep</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-m"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>m</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="var-ics"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ics</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

        </div>
      </div>
    </div>
    <br>

    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#outside-variables-section" 
         aria-expanded="false" 
         aria-controls="outside-variables-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Outside Variables and Types Used
        </h3>
      </a>
      <div id="outside-variables-section" class="collapse">
        <div class="card-body">
              
    <div class="accordion" id="outsideVarsAccordion">
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype" aria-expanded="false" 
                    aria-controls="collapsetype">
              type
              <small class="text-muted ms-2">(8 attributes from time_module)</small>
            </button>
          </h3>
          <div id="collapsetype" class="accordion-collapse collapse" 
               aria-labelledby="headingtype" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>time%step</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>cs_db%num_cs</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>cs_db%num_pests</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>cs_db%pest_num</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>cs_db%num_tot</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>cs_db%num_salts</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>w_temp%gw</strong></td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td><strong>db_mx%aqu2d</strong></td>
                      <td>None</td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_constituent_mass_html__constituent_mass__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_constituent_mass_html__constituent_mass__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_constituent_mass_html__constituent_mass__a__">
              type(<a href='../type/constituent_mass.html'>constituent_mass</a>)
              <small class="text-muted ms-2">(2 attributes from constituent_mass_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_constituent_mass_html__constituent_mass__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_constituent_mass_html__constituent_mass__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>cs_aqu</strong></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td><strong>hin_csz</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_all_constituent_hydrograph_html__all_constituent_hydrograph__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_all_constituent_hydrograph_html__all_constituent_hydrograph__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_all_constituent_hydrograph_html__all_constituent_hydrograph__a__">
              type(<a href='../type/all_constituent_hydrograph.html'>all_constituent_hydrograph</a>)
              <small class="text-muted ms-2">(1 attribute from constituent_mass_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_all_constituent_hydrograph_html__all_constituent_hydrograph__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_all_constituent_hydrograph_html__all_constituent_hydrograph__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>obcs</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_gw_load_hydrograph_html__gw_load_hydrograph__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_gw_load_hydrograph_html__gw_load_hydrograph__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_gw_load_hydrograph_html__gw_load_hydrograph__a__">
              type(<a href='../type/gw_load_hydrograph.html'>gw_load_hydrograph</a>)
              <small class="text-muted ms-2">(1 attribute from constituent_mass_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_gw_load_hydrograph_html__gw_load_hydrograph__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_gw_load_hydrograph_html__gw_load_hydrograph__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aq_chcs</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_pesticide_db_html__pesticide_db__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_db_html__pesticide_db__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_db_html__pesticide_db__a__">
              type(<a href='../type/pesticide_db.html'>pesticide_db</a>)
              <small class="text-muted ms-2">(1 attribute from pesticide_data_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_db_html__pesticide_db__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_pesticide_db_html__pesticide_db__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>pestdb</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_pesticide_cp_html__pesticide_cp__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_cp_html__pesticide_cp__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_cp_html__pesticide_cp__a__">
              type(<a href='../type/pesticide_cp.html'>pesticide_cp</a>)
              <small class="text-muted ms-2">(1 attribute from pesticide_data_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_pesticide_cp_html__pesticide_cp__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_pesticide_cp_html__pesticide_cp__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>pestcp</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headinginteger">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapseinteger" aria-expanded="false" 
                    aria-controls="collapseinteger">
              integer
              <small class="text-muted ms-2">(2 attributes from hydrograph_module)</small>
            </button>
          </h3>
          <div id="collapseinteger" class="accordion-collapse collapse" 
               aria-labelledby="headinginteger" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>iwst</strong></td>
                      <td><p>| </p></td>
                    </tr>
                    <tr>
                      <td><strong>icmd</strong></td>
                      <td><p>|</p></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_hyd_output_html__hyd_output__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_hyd_output_html__hyd_output__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_hyd_output_html__hyd_output__a__">
              type(<a href='../type/hyd_output.html'>hyd_output</a>)
              <small class="text-muted ms-2">(4 attributes from hydrograph_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_hyd_output_html__hyd_output__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_hyd_output_html__hyd_output__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>hd</strong></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td><strong>hz</strong></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td><strong>aqu</strong></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td><strong>res</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_timestep_html__timestep__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_timestep_html__timestep__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_timestep_html__timestep__a__">
              type(<a href='../type/timestep.html'>timestep</a>)
              <small class="text-muted ms-2">(1 attribute from hydrograph_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_timestep_html__timestep__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_timestep_html__timestep__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>ts</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_object_connectivity_html__object_connectivity__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_object_connectivity_html__object_connectivity__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_connectivity_html__object_connectivity__a__">
              type(<a href='../type/object_connectivity.html'>object_connectivity</a>)
              <small class="text-muted ms-2">(1 attribute from hydrograph_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_connectivity_html__object_connectivity__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_object_connectivity_html__object_connectivity__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>ob</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_channel_aquifer_elements_html__channel_aquifer_elements__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_channel_aquifer_elements_html__channel_aquifer_elements__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_channel_aquifer_elements_html__channel_aquifer_elements__a__">
              type(<a href='../type/channel_aquifer_elements.html'>channel_aquifer_elements</a>)
              <small class="text-muted ms-2">(1 attribute from hydrograph_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_channel_aquifer_elements_html__channel_aquifer_elements__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_channel_aquifer_elements_html__channel_aquifer_elements__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aq_ch</strong></td>
                      <td><p>sorted by drainage area (smallest first)</p></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_weather_station_html__weather_station__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_weather_station_html__weather_station__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_weather_station_html__weather_station__a__">
              type(<a href='../type/weather_station.html'>weather_station</a>)
              <small class="text-muted ms-2">(1 attribute from climate_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_weather_station_html__weather_station__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_weather_station_html__weather_station__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>wst</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_object_salt_balance_aqu_html__object_salt_balance_aqu__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_object_salt_balance_aqu_html__object_salt_balance_aqu__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_salt_balance_aqu_html__object_salt_balance_aqu__a__">
              type(<a href='../type/object_salt_balance_aqu.html'>object_salt_balance_aqu</a>)
              <small class="text-muted ms-2">(1 attribute from salt_aquifer)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_salt_balance_aqu_html__object_salt_balance_aqu__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_object_salt_balance_aqu_html__object_salt_balance_aqu__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>asaltb_d</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_database_html__aquifer_database__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_database_html__aquifer_database__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_database_html__aquifer_database__a__">
              type(<a href='../type/aquifer_database.html'>aquifer_database</a>)
              <small class="text-muted ms-2">(1 attribute from aquifer_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_database_html__aquifer_database__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_database_html__aquifer_database__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aqu_dat</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_data_parameters_html__aquifer_data_parameters__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_data_parameters_html__aquifer_data_parameters__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_data_parameters_html__aquifer_data_parameters__a__">
              type(<a href='../type/aquifer_data_parameters.html'>aquifer_data_parameters</a>)
              <small class="text-muted ms-2">(1 attribute from aquifer_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_data_parameters_html__aquifer_data_parameters__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_data_parameters_html__aquifer_data_parameters__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aqu_prm</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_dynamic_html__aquifer_dynamic__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_dynamic_html__aquifer_dynamic__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_dynamic_html__aquifer_dynamic__a__">
              type(<a href='../type/aquifer_dynamic.html'>aquifer_dynamic</a>)
              <small class="text-muted ms-2">(1 attribute from aquifer_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_aquifer_dynamic_html__aquifer_dynamic__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_aquifer_dynamic_html__aquifer_dynamic__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aqu_d</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_aqu_pesticide_output_html__aqu_pesticide_output__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_aqu_pesticide_output_html__aqu_pesticide_output__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_aqu_pesticide_output_html__aqu_pesticide_output__a__">
              type(<a href='../type/aqu_pesticide_output.html'>aqu_pesticide_output</a>)
              <small class="text-muted ms-2">(1 attribute from aqu_pesticide_module)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_aqu_pesticide_output_html__aqu_pesticide_output__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_aqu_pesticide_output_html__aqu_pesticide_output__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>aqupst_d</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingtype__a_href___workspaces_ford_test_data_doc_type_object_cs_balance_aqu_html__object_cs_balance_aqu__a__">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapsetype__a_href___workspaces_ford_test_data_doc_type_object_cs_balance_aqu_html__object_cs_balance_aqu__a__" aria-expanded="false" 
                    aria-controls="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_cs_balance_aqu_html__object_cs_balance_aqu__a__">
              type(<a href='../type/object_cs_balance_aqu.html'>object_cs_balance_aqu</a>)
              <small class="text-muted ms-2">(1 attribute from cs_aquifer)</small>
            </button>
          </h3>
          <div id="collapsetype__a_href___workspaces_ford_test_data_doc_type_object_cs_balance_aqu_html__object_cs_balance_aqu__a__" class="accordion-collapse collapse" 
               aria-labelledby="headingtype__a_href___workspaces_ford_test_data_doc_type_object_cs_balance_aqu_html__object_cs_balance_aqu__a__" data-bs-parent="#outsideVarsAccordion">
            <div class="accordion-body">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                      <td><strong>acsb_d</strong></td>
                      <td></td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
    </div>

        </div>
      </div>
    </div>
    <br>


    <br>

    <br>

    <div class="card mb-3">
      <a data-bs-toggle="collapse" href="#logic-blocks-section" 
         aria-expanded="false" 
         aria-controls="logic-blocks-section" 
         class="text-decoration-none">
        <h3 class="card-header bg-light text-dark">
          <i class="fa fa-caret-down me-2"></i>Logic Blocks
        </h3>
      </a>
      <div id="logic-blocks-section" class="collapse">
        <div class="card-body">
          <p class="text-muted mb-3">
            Control flow structures organized as they appear in the source code. 
            Each block is collapsible to help navigate complex procedures.
          </p>
          
                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>use aquifer_module
use time_module
use hydrograph_module
use climate_module, only : wst
use maximum_data_module
use constituent_mass_module
use pesticide_data_module
use aqu_pesticide_module
use salt_module
use salt_aquifer
use cs_aquifer
use ch_pesticide_module
implicit none
integer :: iaq = 0        !none       |counter
integer :: iaqdb = 0      !           |
integer :: icha = 0       !           |
integer :: iob_out = 0    !           !object type out
integer :: iout = 0       !none       |counter
integer :: ii = 0         !none       |counter
integer :: icontrib = 0   !none       |counter
integer :: ipest = 0      !none       |counter
integer :: ipest_db = 0   !none       |pesticide number from pesticide data base
integer :: ipseq = 0      !none       |sequential basin pesticide number
integer :: ipdb = 0       !none       |sequential pesticide number of daughter pesticide
integer :: imeta = 0      !none       |pesticide metabolite counter
real :: mol_wt_rto = 0.   !ratio      |molecular weight ratio of duaghter to parent pesticide
real :: stor_init = 0.    !           |
real :: conc_no3 = 0.     !           |
real :: step = 0.         !           |
real :: contrib_len = 0.
real :: contrib_len_left = 0.
real :: pest_init = 0.    !kg/ha      |amount of pesticide present at beginning of day
real :: no3_init = 0.     !kg/ha      |amount of nitrate present at beginning of day
real :: flow_mm = 0.      !mm         |total flow through aquifer - return flow + seepage
real :: pest_kg = 0.      !kg         |soluble pesticide moving with flow
real :: conc = 0.         !kg/mm      |concentration of pesticide in flow
real :: zdb1 = 0.         !mm         |kd - flow factor for pesticide transport
real :: kd = 0.           !(mg/kg)/(mg/L) |koc * carbon
real :: gw_volume = 0.    !m3         |m3 of groundwater in aquifer
real :: salt_recharge = 0.  !kg         |kg of salt in recharge water
real :: gw_discharge = 0. !m3         |m3 of groundwater discharging to channels
real :: salt_discharge = 0. !kg         |kg of salt in groundwater discharge
real :: gw_seep = 0.      !m3         |m3 of groundwater seeping from the aquifer
real :: salt_seep = 0.    !kg         |kg of salt in groundwater seepage
real :: cs_recharge = 0.                 !rtb cs
real :: cs_discharge = 0.                !rtb cs
real :: cs_seep = 0.                     !rtb cs
integer :: m = 0!rtb salt
integer :: ics = 0 !rtb cs
iaq = ob(icmd)%num
iaqdb = ob(icmd)%props
iwst = ob(icmd)%wst
stor_init = aqu_d(iaq)%stor
ob(icmd)%hd(1) = hz
ob(icmd)%hd(2) = hz</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_db%num_tot > 0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>obcs(icmd)%hd(1) = hin_csz
obcs(icmd)%hd(2) = hin_csz</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>aqu_d(iaq)%rchrg = ob(icmd)%hin%flo / (10. * ob(icmd)%area_ha)</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-4" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_db%num_salts > 0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-4" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>call salt_chem_aqu</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-5" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_db%num_cs > 0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-5" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>call cs_rctn_aqu
call cs_sorb_aqu</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>aqu_prm(iaq)%rchrg_prev = aqu_d(iaq)%rchrg
aqu_d(iaq)%stor = aqu_d(iaq)%stor + aqu_d(iaq)%rchrg
aqu_d(iaq)%dep_wt = aqu_dat(iaq)%dep_bot - (aqu_d(iaq)%stor / (1000. * aqu_dat(iaq)%spyld))
aqu_d(iaq)%dep_wt = max (0., aqu_d(iaq)%dep_wt)</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-7" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>aqu_d(iaq)%dep_wt <= aqu_dat(iaq)%flo_min</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-7" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo = aqu_d(iaq)%flo * aqu_prm(iaq)%alpha_e + aqu_d(iaq)%rchrg * (1. - aqu_prm(iaq)%alpha_e)
aqu_d(iaq)%flo = Max (0., aqu_d(iaq)%flo)
aqu_d(iaq)%flo = Min (aqu_d(iaq)%stor, aqu_d(iaq)%flo)
aqu_d(iaq)%stor = aqu_d(iaq)%stor - aqu_d(iaq)%flo</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-8" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-8" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo = 0.</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>ob(icmd)%hd(1)%flo = 10. * aqu_d(iaq)%flo * ob(icmd)%area_ha
aqu_d(iaq)%seep = aqu_d(iaq)%rchrg * aqu_dat(iaq)%seep
aqu_d(iaq)%seep = amin1 (aqu_d(iaq)%seep, aqu_d(iaq)%stor)
ob(icmd)%hd(2)%flo = 10. * aqu_d(iaq)%seep * ob(icmd)%area_ha
aqu_d(iaq)%stor = aqu_d(iaq)%stor - aqu_d(iaq)%seep</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-10" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>aqu_d(iaq)%dep_wt < aqu_dat(iaq)%revap_min</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-10" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%revap = wst(iwst)%weat%pet * aqu_dat(iaq)%revap_co
aqu_d(iaq)%revap = amin1 (aqu_d(iaq)%revap, aqu_d(iaq)%stor)
aqu_d(iaq)%stor = aqu_d(iaq)%stor - aqu_d(iaq)%revap</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-11" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-11" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%revap = 0.</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>aqu_d(iaq)%no3_rchg = ob(icmd)%hin%no3 / ob(icmd)%area_ha
aqu_d(iaq)%no3_st = aqu_d(iaq)%no3_st + aqu_d(iaq)%no3_rchg
aqu_prm(iaq)%rchrgn_prev = aqu_d(iaq)%no3_rchg</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-13" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>aqu_d(iaq)%stor > 1.e-6</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-13" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>conc_no3 = aqu_d(iaq)%no3_st / aqu_d(iaq)%stor</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-14" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-14" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>conc_no3 = 0.</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>ob(icmd)%hd(1)%no3 = (conc_no3 * aqu_d(iaq)%flo) * ob(icmd)%area_ha
ob(icmd)%hd(1)%no3 = amin1(ob(icmd)%hd(1)%no3, (aqu_d(iaq)%no3_st * ob(icmd)%area_ha))
aqu_d(iaq)%no3_lat = ob(icmd)%hd(1)%no3 / ob(icmd)%area_ha
aqu_d(iaq)%no3_st = aqu_d(iaq)%no3_st - aqu_d(iaq)%no3_lat
no3_init = aqu_d(iaq)%no3_st
aqu_d(iaq)%no3_st = aqu_d(iaq)%no3_st * aqu_prm(iaq)%nloss
aqu_d(iaq)%no3_loss = no3_init - aqu_d(iaq)%no3_st
aqu_d(iaq)%no3_seep = conc_no3 * aqu_d(iaq)%seep
aqu_d(iaq)%no3_seep = amin1(aqu_d(iaq)%no3_seep, aqu_d(iaq)%no3_st)
aqu_d(iaq)%no3_st = aqu_d(iaq)%no3_st - aqu_d(iaq)%no3_seep
ob(icmd)%hd(2)%no3 = aqu_d(iaq)%no3_seep * ob(icmd)%area_ha</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-16" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>m=1,cs_db%num_salts</code>
                  </div>
                </a>
                <div id="block-16" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>salt_recharge = obcs(icmd)%hin(1)%salt(m) !kg
cs_aqu(iaq)%salt(m) = cs_aqu(iaq)%salt(m) + salt_recharge !kg
asaltb_d(iaq)%salt(m)%rchrg = salt_recharge</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-17" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>m=1,cs_db%num_salts</code>
                  </div>
                </a>
                <div id="block-17" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>gw_volume = (aqu_d(iaq)%stor/1000.) * (ob(icmd)%area_ha*10000.) !m3 of groundwater
gw_discharge = (aqu_d(iaq)%flo/1000.) * (ob(icmd)%area_ha*10000.) !mm --> m3
salt_discharge = (cs_aqu(iaq)%saltc(m)*gw_discharge) / 1000. !kg
cs_aqu(iaq)%salt(m) = cs_aqu(iaq)%salt(m) - salt_discharge !kg (update salt storage)
obcs(icmd)%hd(1)%salt(m) = salt_discharge !kg (store salt loading, for input to streams)
if (db_mx%aqu2d > 0) then !save to distribute on following day (if aqu2d method is used, with "aqu_cha.lin" file)
aq_chcs(iaq)%hd(1)%salt(m) = obcs(icmd)%hd(1)%salt(m) !save to distribute on following day
asaltb_d(iaq)%salt(m)%saltgw = obcs(icmd)%hd(1)%salt(m) !kg (store for daily output)
gw_seep = (aqu_d(iaq)%seep/1000.) * (ob(icmd)%area_ha*10000.) !m3 of groundwater
salt_seep = (cs_aqu(iaq)%saltc(m) * gw_seep) / 1000. !kg
cs_aqu(iaq)%salt(m) = cs_aqu(iaq)%salt(m) - salt_seep !kg (update salt storage)
asaltb_d(iaq)%salt(m)%seep = salt_seep !kg (store for daily output)
obcs(icmd)%hd(2)%salt(m) = asaltb_d(iaq)%salt(m)%seep
asaltb_d(iaq)%salt(m)%mass = cs_aqu(iaq)%salt(m) !store mass for output
asaltb_d(iaq)%salt(m)%conc = cs_aqu(iaq)%saltc(m) !store concentration for output</code></pre>
                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>gw_volume.gt.0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-17-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%saltc(m) = (cs_aqu(iaq)%salt(m) * 1000.) / gw_volume !g/m3 = mg/L</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-17-block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%saltc(m) = 0.</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-3" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>salt_discharge .gt. cs_aqu(iaq)%salt(m)</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-17-block-3" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>salt_discharge = cs_aqu(iaq)%salt(m)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-4" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>salt_seep.gt.cs_aqu(iaq)%salt(m)</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-17-block-4" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>salt_seep = cs_aqu(iaq)%salt(m)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-5" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>gw_volume.gt.0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-17-block-5" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%saltc(m) = (cs_aqu(iaq)%salt(m) * 1000.) / gw_volume !g/m3 = mg/L</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-17-block-6" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-17-block-6" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%saltc(m) = 0.</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-18" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>ics=1,cs_db%num_cs</code>
                  </div>
                </a>
                <div id="block-18" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_recharge = obcs(icmd)%hin(1)%cs(ics) !kg
cs_aqu(iaq)%cs(ics) = cs_aqu(iaq)%cs(ics) + cs_recharge !kg
acsb_d(iaq)%cs(ics)%rchrg = cs_recharge</code></pre>
                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-19" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>ics=1,cs_db%num_cs</code>
                  </div>
                </a>
                <div id="block-19" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>gw_volume = (aqu_d(iaq)%stor/1000.) * (ob(icmd)%area_ha*10000.) !m3 of groundwater
gw_discharge = (aqu_d(iaq)%flo/1000.) * (ob(icmd)%area_ha*10000.) !mm --> m3
cs_discharge = (cs_aqu(iaq)%csc(ics)*gw_discharge) / 1000. !kg
cs_aqu(iaq)%cs(ics) = cs_aqu(iaq)%cs(ics) - cs_discharge !kg (update constituent mass storage)
obcs(icmd)%hd(1)%cs(ics) = cs_discharge !kg (store constituent loading, for input to streams)
if (db_mx%aqu2d > 0) then !save to distribute on following day (if aqu2d method is used, with "aqu_cha.lin" file)
aq_chcs(iaq)%hd(1)%cs(ics) = obcs(icmd)%hd(1)%cs(ics)
acsb_d(iaq)%cs(ics)%csgw = obcs(icmd)%hd(1)%cs(ics) !kg (store for daily output)
gw_seep = (aqu_d(iaq)%seep/1000.) * (ob(icmd)%area_ha*10000.) !m3 of groundwater
cs_seep = (cs_aqu(iaq)%csc(ics) * gw_seep) / 1000. !kg
cs_aqu(iaq)%cs(ics) = cs_aqu(iaq)%cs(ics) - cs_seep !kg (update constituent mass storage)
acsb_d(iaq)%cs(ics)%seep = cs_seep !kg (store for daily output)
obcs(icmd)%hd(2)%cs(ics) = acsb_d(iaq)%cs(ics)%seep
acsb_d(iaq)%cs(ics)%mass = cs_aqu(iaq)%cs(ics)  !store mass for output
acsb_d(iaq)%cs(ics)%conc = cs_aqu(iaq)%csc(ics) !store concentration for output</code></pre>
                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>gw_volume.gt.0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-19-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%csc(ics) = (cs_aqu(iaq)%cs(ics) * 1000.) / gw_volume !g/m3 = mg/L</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-19-block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%csc(ics) = 0.</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-3" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_discharge .gt. cs_aqu(iaq)%cs(ics)</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-19-block-3" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_discharge = cs_aqu(iaq)%cs(ics)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-4" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_seep.gt.cs_aqu(iaq)%cs(ics)</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-19-block-4" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_seep = cs_aqu(iaq)%cs(ics)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-5" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>gw_volume.gt.0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-19-block-5" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%csc(ics) = (cs_aqu(iaq)%cs(ics) * 1000.) / gw_volume !g/m3 = mg/L</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-19-block-6" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-19-block-6" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>cs_aqu(iaq)%csc(ics) = 0.</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>aqu_d(iaq)%minp = ob(icmd)%hin%flo * aqu_dat(iaq)%minp / 1000.
ob(icmd)%hd(1)%solp = aqu_d(iaq)%minp
ob(icmd)%hd(1)%temp = w_temp%gw</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-21" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>db_mx%aqu2d > 0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-21" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>contrib_len = aq_ch(iaq)%len_tot * aqu_d(iaq)%flo / aqu_dat(iaq)%bf_max
icontrib = 0
aq_ch(iaq)%hd = ob(icmd)%hd(1)</code></pre>
                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-21-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>icha = 1, aq_ch(iaq)%num_tot</code>
                  </div>
                </a>
                <div id="block-21-block-1" class="collapse">
                  <div class="card-body">
                                  
              <div class="card mb-2 ms-6">
                <a data-bs-toggle="collapse" href="#block-21-block-1-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>contrib_len >= aq_ch(iaq)%ch(icha)%len_left</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-21-block-1-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>icontrib = icha
contrib_len_left = aq_ch(iaq)%ch(icha)%len_left + aq_ch(iaq)%ch(icha)%len
exit</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-21-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>icha = 1, aq_ch(iaq)%num_tot</code>
                  </div>
                </a>
                <div id="block-21-block-2" class="collapse">
                  <div class="card-body">
                                  
              <div class="card mb-2 ms-6">
                <a data-bs-toggle="collapse" href="#block-21-block-2-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>icha >= icontrib .and. icontrib > 0</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-21-block-2-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aq_ch(iaq)%ch(icha)%flo_fr = aq_ch(iaq)%ch(icha)%len / contrib_len_left</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-6">
                <a data-bs-toggle="collapse" href="#block-21-block-2-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>ELSE</strong>
                  </div>
                </a>
                <div id="block-21-block-2-block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aq_ch(iaq)%ch(icha)%flo_fr = 0.</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-22" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>ipest = 1, cs_db%num_pests</code>
                  </div>
                </a>
                <div id="block-22" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>ipest_db = cs_db%pest_num(ipest)
pest_init = cs_aqu(iaq)%pest(ipest)
cs_aqu(iaq)%pest(ipest) = cs_aqu(iaq)%pest(ipest) + obcs(icmd)%hin(1)%pest(ipest)
aqupst_d(iaq)%pest(ipest)%react = 0.
kd = pestdb(ipest_db)%koc * aqu_dat(iaq)%cbn / 100.
zdb1 = (aqu_dat(iaq)%spyld + kd * 2.0) * aqu_dat(iaq)%flo_dist * 1000.
flow_mm = aqu_d(iaq)%flo + aqu_d(iaq)%seep
obcs(icmd)%hd(1)%pest(ipest) = 0.
obcs(icmd)%hd(2)%pest(ipest) = 0.
aqupst_d(iaq)%pest(ipest)%tot_in = obcs(icmd)%hin(1)%pest(ipest)
aqupst_d(iaq)%pest(ipest)%sol_flo = obcs(icmd)%hd(1)%pest(ipest)
aqupst_d(iaq)%pest(ipest)%sor_flo = 0.      !! all soluble - may add later
aqupst_d(iaq)%pest(ipest)%sol_perc = obcs(icmd)%hd(2)%pest(ipest)
aqupst_d(iaq)%pest(ipest)%stor_ave = cs_aqu(iaq)%pest(ipest)
aqupst_d(iaq)%pest(ipest)%stor_init = pest_init
aqupst_d(iaq)%pest(ipest)%stor_final = cs_aqu(iaq)%pest(ipest)</code></pre>
                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-22-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_aqu(iaq)%pest(ipest) > 0.</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-22-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqupst_d(iaq)%pest(ipest)%react = cs_aqu(iaq)%pest(ipest) * (1. - pestcp(ipest_db)%decay_s)
cs_aqu(iaq)%pest(ipest) =  cs_aqu(iaq)%pest(ipest) * pestcp(ipest_db)%decay_s</code></pre>
                                  
              <div class="card mb-2 ms-6">
                <a data-bs-toggle="collapse" href="#block-22-block-1-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>imeta = 1, pestcp(ipest_db)%num_metab</code>
                  </div>
                </a>
                <div id="block-22-block-1-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>ipseq = pestcp(ipest_db)%daughter(imeta)%num
ipdb = cs_db%pest_num(ipseq)
mol_wt_rto = pestdb(ipdb)%mol_wt / pestdb(ipest_db)%mol_wt
aqupst_d(iaq)%pest(ipseq)%metab = aqupst_d(iaq)%pest(ipseq)%metab + aqupst_d(iaq)%pest(ipest)%react *     &
pestcp(ipest_db)%daughter(imeta)%soil_fr * mol_wt_rto
cs_aqu(iaq)%pest(ipseq) = cs_aqu(iaq)%pest(ipseq) + aqupst_d(iaq)%pest(ipseq)%metab</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-22-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>cs_aqu(iaq)%pest(ipest) >= 1.e-12 .and. flow_mm > 0.</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-22-block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>pest_kg =  cs_aqu(iaq)%pest(ipest) * (1. - Exp(-flow_mm / (zdb1 + 1.e-6)))
conc = pest_kg / flow_mm
conc = Min (pestdb(ipest_db)%solub / 100., conc)      ! check solubility
pest_kg = conc * flow_mm
if (pest_kg >  cs_aqu(iaq)%pest(ipest)) pest_kg = cs_aqu(iaq)%pest(ipest)
obcs(icmd)%hd(1)%pest(ipest) = pest_kg * aqu_d(iaq)%flo / flow_mm
obcs(icmd)%hd(2)%pest(ipest) = pest_kg * aqu_d(iaq)%seep / flow_mm
cs_aqu(iaq)%pest(ipest) =  cs_aqu(iaq)%pest(ipest) - pest_kg</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>iob_out = icmd
aqu_d(iaq)%flo_cha = 0.
aqu_d(iaq)%flo_res = 0.
aqu_d(iaq)%flo_ls = 0.</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-24" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>iout = 1, ob(iob_out)%src_tot</code>
                  </div>
                </a>
                <div id="block-24" class="collapse">
                  <div class="card-body">
                                  
              <div class="card mb-2 ms-3">
                <a data-bs-toggle="collapse" href="#block-24-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-info bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>IF</strong> (<code>ob(iob_out)%htyp_out(iout) == "tot"</code>) <strong>THEN</strong>
                  </div>
                </a>
                <div id="block-24-block-1" class="collapse">
                  <div class="card-body">
                                  
              <div class="card mb-2 ms-6">
                <a data-bs-toggle="collapse" href="#block-24-block-1-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-success bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>SELECT CASE</strong> (<code>ob(iob_out)%obtyp_out(iout)</code>)
                  </div>
                </a>
                <div id="block-24-block-1-block-1" class="collapse">
                  <div class="card-body">
                                  
              <div class="card mb-2 ms-9">
                <a data-bs-toggle="collapse" href="#block-24-block-1-block-1-block-1" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-success bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>CASE</strong> (<code>"cha"</code>)
                  </div>
                </a>
                <div id="block-24-block-1-block-1-block-1" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo_cha = aqu_d(iaq)%flo_cha + aqu_d(iaq)%flo * ob(iob_out)%frac_out(iout)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-9">
                <a data-bs-toggle="collapse" href="#block-24-block-1-block-1-block-2" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-success bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>CASE</strong> (<code>"sdc"</code>)
                  </div>
                </a>
                <div id="block-24-block-1-block-1-block-2" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo_cha = aqu_d(iaq)%flo_cha + aqu_d(iaq)%flo * ob(iob_out)%frac_out(iout)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-9">
                <a data-bs-toggle="collapse" href="#block-24-block-1-block-1-block-3" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-success bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>CASE</strong> (<code>"res"</code>)
                  </div>
                </a>
                <div id="block-24-block-1-block-1-block-3" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo_res = aqu_d(iaq)%flo_res + aqu_d(iaq)%flo * ob(iob_out)%frac_out(iout)</code></pre>
                  </div>
                </div>
              </div>

                                  
              <div class="card mb-2 ms-9">
                <a data-bs-toggle="collapse" href="#block-24-block-1-block-1-block-4" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-success bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>CASE</strong> (<code>"aqu"</code>)
                  </div>
                </a>
                <div id="block-24-block-1-block-1-block-4" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>aqu_d(iaq)%flo_ls = aqu_d(iaq)%flo_ls + aqu_d(iaq)%flo * ob(iob_out)%frac_out(iout)</code></pre>
                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>ob(icmd)%hin_tot = ob(icmd)%hin_tot + ob(icmd)%hin
ob(icmd)%hout_tot = ob(icmd)%hout_tot + ob(icmd)%hd(1) + ob(icmd)%hd(2)</code></pre>
                  </div>
                </div>

                        
              <div class="card mb-2 ms-0">
                <a data-bs-toggle="collapse" href="#block-26" 
                   aria-expanded="false" 
                   class="text-decoration-none">
                  <div class="card-header bg-warning bg-opacity-10">
                    <i class="fa fa-caret-right me-2"></i>
                    <strong>DO</strong> <code>ii = 1, time%step</code>
                  </div>
                </a>
                <div id="block-26" class="collapse">
                  <div class="card-body">
                      <pre class="mb-0"><code>step = real(time%step)
ob(icmd)%ts(1,ii) = ob(icmd)%hd(1) / step</code></pre>
                  </div>
                </div>
              </div>

                        
                <div class="card mb-2 ms-0">
                  <div class="card-body">
                    <pre class="mb-0"><code>return</code></pre>
                  </div>
                </div>

        </div>
      </div>
    </div>
    <br>


    
    

    
    



    
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Fortran Program
              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>