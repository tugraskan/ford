<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Documentation for Simple Fortran Project">
    <meta name="author" content="" >
    <link rel="icon" href="../favicon.png">

    <title>cli_clgen &ndash; Simple Fortran Project</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">Simple Fortran Project </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/blockdata.html">Block Data</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>cli_clgen
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 0.0% of total for proc.">51 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/cli_clgen.f90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/cli_clgen.f90.html'>cli_clgen.f90</a></li>
            <li class="breadcrumb-item active" aria-current="page">cli_clgen</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    // Enable Bootstrap tooltips
    (function () {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    })();
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2> subroutine cli_clgen(iwgn)  
</h2>
        <div class="card mb-4">
      <h3 class="card-header card-title bg-light">Uses</h3>
      <div class="card-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <ul class="list-inline">
                  <li class="list-inline-item"><a href='../module/basin_module~2.html'>basin_module</a></li>
                  <li class="list-inline-item"><a href='../module/hydrograph_module.html'>hydrograph_module</a></li>
                  <li class="list-inline-item"><a href='../module/time_module.html'>time_module</a></li>
                  <li class="list-inline-item"><a href='../module/climate_module~2.html'>climate_module</a></li>
              </ul>
            </li>
        </ul>
      </div>
    </div>


    <div class="codehilite"><pre><span></span><code><span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="n">PURPOSE</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">this</span> <span class="n">subroutine</span> <span class="n">calculates</span> <span class="n">the</span> <span class="n">daylength</span><span class="p">,</span> <span class="n">distribution</span> <span class="n">of</span> 
<span class="n">radiation</span> <span class="n">throughout</span> <span class="n">the</span> <span class="n">day</span> <span class="n">and</span> <span class="n">maximum</span> <span class="n">radiation</span> <span class="n">for</span> <span class="n">day</span>

<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="n">INCOMING</span> <span class="n">VARIABLES</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">name</span>        <span class="p">|</span><span class="n">units</span>         <span class="p">|</span><span class="n">definition</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> 
<span class="n">j</span>           <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">HRU</span> <span class="n">number</span>
<span class="n">latcos</span><span class="p">(:)</span>   <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Cos</span><span class="p">(</span><span class="n">Latitude</span><span class="p">)</span> <span class="n">for</span> <span class="n">HRU</span>
<span class="n">latsin</span><span class="p">(:)</span>   <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Sin</span><span class="p">(</span><span class="n">Latitude</span><span class="p">)</span> <span class="n">for</span> <span class="n">HRU</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>

<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="n">OUTGOING</span> <span class="n">VARIABLES</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">name</span>        <span class="p">|</span><span class="n">units</span>         <span class="p">|</span><span class="n">definition</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">frad</span><span class="p">(:,:)</span>   <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">fraction</span> <span class="n">of</span> <span class="n">solar</span> <span class="n">radiation</span> <span class="n">occurring</span> <span class="n">during</span> 
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>

<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="n">LOCAL</span> <span class="n">DEFINITIONS</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">name</span>        <span class="p">|</span><span class="n">units</span>         <span class="p">|</span><span class="n">definition</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">sdlat</span>       <span class="p">|</span><span class="n">none</span>          <span class="p">|(</span><span class="o">-</span><span class="n">Tan</span><span class="p">(</span><span class="n">sd</span><span class="p">)</span><span class="o">*</span><span class="n">Tan</span><span class="p">(</span><span class="n">lat</span><span class="p">))</span>
<span class="n">cosrho</span><span class="p">(:)</span>   <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Cos</span><span class="p">(</span><span class="n">zenith</span> <span class="n">angle</span> <span class="n">for</span> <span class="n">hour</span><span class="p">)</span>
<span class="n">dd</span>          <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">relative</span> <span class="n">distance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">earth</span> <span class="n">from</span> <span class="n">the</span> <span class="n">sun</span>
<span class="n">h</span>           <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Acos</span><span class="p">(</span><span class="o">-</span><span class="n">Tan</span><span class="p">(</span><span class="n">sd</span><span class="p">)</span><span class="o">*</span><span class="n">Tan</span><span class="p">(</span><span class="n">lat</span><span class="p">))</span>
<span class="n">ii</span>          <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">counter</span>
<span class="n">sd</span>          <span class="p">|</span><span class="n">radians</span>       <span class="p">|</span><span class="n">solar</span> <span class="n">declination</span><span class="p">:</span> <span class="n">latitude</span> <span class="n">at</span> <span class="n">which</span> <span class="n">the</span> <span class="n">sun</span>
                           <span class="p">|</span><span class="n">is</span> <span class="n">directly</span> <span class="n">overhead</span> <span class="n">at</span> <span class="n">noon</span>
<span class="n">totrho</span>      <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">sum</span> <span class="n">of</span> <span class="n">cosrho</span> <span class="n">values</span> <span class="n">for</span> <span class="n">all</span> <span class="n">hours</span> <span class="n">of</span> <span class="n">day</span>
<span class="n">yc</span>          <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Cos</span><span class="p">(</span><span class="n">sd</span><span class="p">)</span><span class="o">*</span><span class="n">Cos</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
<span class="n">ys</span>          <span class="p">|</span><span class="n">none</span>          <span class="p">|</span><span class="n">Sin</span><span class="p">(</span><span class="n">sd</span><span class="p">)</span><span class="o">*</span><span class="n">Sin</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>


<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="n">SUBROUTINES</span><span class="o">/</span><span class="n">FUNCTIONS</span> <span class="n">CALLED</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
<span class="n">Intrinsic</span><span class="p">:</span> <span class="n">Sin</span><span class="p">,</span> <span class="n">Tan</span><span class="p">,</span> <span class="n">Acos</span><span class="p">,</span> <span class="n">Cos</span><span class="p">,</span> <span class="n">Real</span>
<span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="kr">END</span> <span class="n">SPECIFICATIONS</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span> <span class="o">~</span>
</code></pre></div>

<p>Calculate Daylength
 calculate solar declination: equation 2.1.2 in SWAT manual
365/2pi = 58.09</p>
<p>calculate the relative distance of the earth from the sun the eccentricity of the orbit
daylength = 2 * Acos(-Tan(sd) * Tan(lat)) / omega
where the angular velocity of the earth"s rotation, omega, is equal
 to 15 deg/hr or 0.2618 rad/hr and 2/0.2618 = 7.6374</p>
<p>sdlat will be &gt;= 1. if latitude exceeds +/- 66.5 deg in winter
 latitude exceeds +/- 66.5 deg in summer
 Calculate Potential (maximum) Radiation !!
 equation 2.2.7 in SWAT manual
 Calculate fraction of radiation received during each hour in day
 this calculation assumes solar noon (when the angle between the
 observer on the earth to the sun and a line normal to the earth"s
 at that position is at a minimum) falls at 12 noon in day.
 equation 2.2.10 in SWAT manual</p>
<p>angular velocity times hour away from solar noon. To calculate
radiation for an hour, the hour angle for the midpoint of the 
time period is used. time = 0. at solar noon with positive values
 in the morning and negative in the evening
0.2618 rad/hr</p>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iwgn~7"></span>
              integer
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iwgn</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>





    <br>


    <section>    
      <h2>Variables</h2>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iwgn~7"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iwgn</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    </section>
    <br>
    
    

    
    



    
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Simple Fortran Project
              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>